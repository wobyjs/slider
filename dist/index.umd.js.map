{"version":3,"file":"index.umd.js","sources":["../src/utils.tsx","../src/slider.tsx"],"sourcesContent":["/**\r\n * Capitalize first letter of string\r\n * @private\r\n * @param  {string} - String\r\n * @return {string} - String with first letter capitalized\r\n */\r\nexport function capitalize(str: string): string {\r\n    return str.charAt(0).toUpperCase() + str.substr(1)\r\n}\r\n\r\n/**\r\n * Clamp position between a range\r\n * @param  {number} - Value to be clamped\r\n * @param  {number} - Minimum value in range\r\n * @param  {number} - Maximum value in range\r\n * @return {number} - Clamped value\r\n */\r\nexport function clamp(value, min, max) {\r\n    return Math.min(Math.max(value, min), max)\r\n}\r\n","import { $, $$, useEffect, useMemo, ObservableMaybe, type JSX, ObservableReadonly, Observable, Child } from 'woby'\r\nimport { capitalize, clamp } from \"./utils\"\r\n\r\n// /https://whoisandy.github.io/react-rangeslider/\r\n\r\ntype Orientation = \"horizontal\" | \"vertical\"\r\n\r\ninterface SliderProps {\r\n    min?: ObservableMaybe<number>\r\n    max?: ObservableMaybe<number>\r\n    step?: ObservableMaybe<number>\r\n    value?: Observable<number>\r\n    orientation?: ObservableMaybe<Orientation>\r\n    tooltip?: ObservableMaybe<boolean>\r\n    alwaysOnTooltip?: ObservableMaybe<boolean>\r\n    reverse?: ObservableMaybe<boolean>\r\n    labels?: ObservableMaybe<Record<string, JSX.Child>>\r\n    formatLabel?: (value: ObservableMaybe<number>) => JSX.Child\r\n    formatTooltip?: (value: ObservableMaybe<number>) => JSX.Child\r\n    onChangeStart?: (e: MouseEvent | TouchEvent) => void\r\n    onChange?: (value: number, e: MouseEvent | TouchEvent | KeyboardEvent) => void\r\n    onChangeComplete?: (e: MouseEvent | TouchEvent) => void\r\n    class?: ObservableMaybe<string>\r\n    className?: ObservableMaybe<string>\r\n}\r\n\r\nconst constants = {\r\n    orientation: {\r\n        horizontal: {\r\n            dimension: \"width\",\r\n            direction: \"left\",\r\n            reverseDirection: \"right\",\r\n            coordinate: \"x\",\r\n        },\r\n        vertical: {\r\n            dimension: \"height\",\r\n            direction: \"top\",\r\n            reverseDirection: \"bottom\",\r\n            coordinate: \"y\",\r\n        },\r\n    },\r\n}\r\n\r\nexport const Slider = (props: SliderProps & JSX.HTMLAttributes<HTMLDivElement>) => {\r\n    const {\r\n        min = $(0),\r\n        max = $(100),\r\n        step = $(1),\r\n        value = $(0),\r\n        orientation = $(\"horizontal\"),\r\n        tooltip = $(true),\r\n        alwaysOnTooltip = $(false),\r\n        reverse = $(false),\r\n        labels = $({}),\r\n        formatLabel = $(\"\"),\r\n        formatTooltip,\r\n        onChangeStart,\r\n        onChange,\r\n        onChangeComplete,\r\n    } = props\r\n\r\n    const active = $<boolean>(false)\r\n    const limit = $<number>(0)\r\n    const grab = $<number>(0)\r\n    const sliderRef = $<HTMLDivElement>()\r\n    const handleRef = $<HTMLDivElement>()\r\n    const tooltipRef = $<HTMLDivElement>()\r\n    const labelsRef = $<HTMLUListElement>()\r\n    const sliderValue = $($$(value))\r\n    const sliderDim = $(0)\r\n    const handleDim = $(0)\r\n\r\n    useEffect(() => {\r\n        sliderValue($$(value))\r\n    })\r\n    const handleTooltip = (value: number): JSX.Child => {\r\n        return formatTooltip ? formatTooltip(value) : value\r\n    }\r\n\r\n    const handleUpdate = () => {\r\n        if (!$$(sliderRef) || !$$(handleRef)) {\r\n            return\r\n        }\r\n        const dimension = capitalize(constants.orientation[$$(orientation)].dimension)\r\n        sliderDim($$(sliderRef)[`offset${$$(dimension)}`])\r\n        handleDim($$(handleRef)[`offset${$$(dimension)}`])\r\n\r\n        limit(sliderDim() - handleDim())\r\n        grab(handleDim() / 2)\r\n    }\r\n\r\n    const handleStart = (e: MouseEvent | TouchEvent) => {\r\n        document.addEventListener(\"mousemove\", handleDrag)\r\n        document.addEventListener(\"mouseup\", handleEnd)\r\n        active(true)\r\n        onChangeStart?.(e)\r\n    }\r\n\r\n    const handleDrag = (e: MouseEvent | TouchEvent) => {\r\n        e.stopPropagation()\r\n        if (!onChange) return\r\n\r\n        const {\r\n            //@ts-ignore\r\n            target: { className, classList, dataset },\r\n        } = e\r\n\r\n        if (className === \"rangesliderLabels\") return\r\n\r\n        sliderValue(position(e))\r\n\r\n        if (classList?.contains(\"rangesliderLabel-item\") && dataset.value) {\r\n            sliderValue(parseFloat(dataset.value))\r\n        }\r\n        onChange?.($$(sliderValue), e)\r\n    }\r\n\r\n    useEffect(() => {\r\n        handleUpdate()\r\n        const resizeObserver = new ResizeObserver(handleUpdate)\r\n        if ($$(sliderRef)) {\r\n            resizeObserver.observe($$(sliderRef))\r\n        }\r\n\r\n        return () => {\r\n            resizeObserver.disconnect()\r\n        }\r\n    })\r\n\r\n    const handleEnd = (e: MouseEvent | TouchEvent) => {\r\n        active(false)\r\n        onChangeComplete?.(e)\r\n        value($$(sliderValue))\r\n        document.removeEventListener(\"mousemove\", handleDrag)\r\n        document.removeEventListener(\"mouseup\", handleEnd)\r\n    }\r\n\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n        e.preventDefault()\r\n        const { keyCode } = e\r\n        // let sliderValue\r\n\r\n        switch (keyCode) {\r\n            case 38:\r\n            case 39:\r\n                sliderValue($$(value) + $$(step) > $$(max) ? $$(max) : $$(value) + $$(step))\r\n                onChange?.($$(sliderValue), e)\r\n                break\r\n            case 37:\r\n            case 40:\r\n                sliderValue($$(value) - $$(step) < $$(min) ? $$(min) : $$(value) - $$(step))\r\n                onChange?.($$(sliderValue), e)\r\n                break\r\n            default:\r\n        }\r\n    }\r\n\r\n    const getPositionFromValue = (value: number, isLabel = false): number => {\r\n        const diffMaxMin = $$(max) - $$(min)\r\n        const diffValMin = value - $$(min)\r\n        const percentage = diffValMin / diffMaxMin\r\n        // const pos = Math.round(percentage * ($$(limit) +\r\n        //     ($$(reverse) ?\r\n        //         ($$(isHorizontal) ? 0 : +$$(grab) * 2) :\r\n        //         ($$(isHorizontal) ? 0 : 0))\r\n        // ) - ($$(reverse) ?\r\n        //     ($$(isHorizontal) ? $$(grab) * 2 : -$$(grab) * 2) :\r\n        //     ($$(isHorizontal) ? $$(grab) * 2 : 0))\r\n        // )\r\n        const pos = Math.round(percentage * (isLabel ? $$(sliderDim) : $$(limit)))\r\n\r\n        return pos\r\n    }\r\n\r\n    const isHorizontal = useMemo(() => $$(orientation) === 'horizontal')\r\n\r\n    const getValueFromPosition = (pos: number): number => {\r\n        const percentage = clamp(pos, 0, $$(limit)) / ($$(limit) || 1)\r\n        const baseVal = $$(step) * Math.round((percentage * ($$(max) - $$(min))) / $$(step))\r\n        const result = $$(isHorizontal) ? baseVal + $$(min) : $$(max) - baseVal\r\n        return clamp(result, $$(min), $$(max))\r\n    }\r\n\r\n    const position = (e: MouseEvent | TouchEvent) => {\r\n        const coordinateStyle = constants.orientation[$$(orientation)].coordinate\r\n        const directionStyle = $$(reverse)\r\n            ? constants.orientation[$$(orientation)].reverseDirection\r\n            : constants.orientation[$$(orientation)].direction\r\n        const clientCoordinateStyle = `client${capitalize(coordinateStyle)}`\r\n        const coordinate = !(\"touches\" in e)\r\n            ? (e as MouseEvent)[clientCoordinateStyle]\r\n            : (e.touches[0] as Touch)[clientCoordinateStyle]\r\n        const direction = $$(sliderRef)!.getBoundingClientRect()[directionStyle]\r\n        // const pos = $$(reverse)\r\n        //     ? ($$(isHorizontal) ? (direction - coordinate) : ($$(limit) - (direction - coordinate /* - ($$(grab) * 2) */)))\r\n        //     : $$(limit) - (coordinate - direction + ($$(grab)))\r\n\r\n        const pos = $$(reverse)\r\n            ? direction - coordinate - $$(grab)\r\n            : coordinate - direction - $$(grab)\r\n\r\n        sliderValue(getValueFromPosition(pos))\r\n        return sliderValue\r\n    }\r\n\r\n    const coordinates = (pos: number, isLabel = false) => {\r\n        const value = getValueFromPosition(pos)\r\n        const position = getPositionFromValue(value, isLabel)\r\n        // const handlePos = $$(reverse) ?\r\n        //     ($$(isHorizontal) ? ($$(limit) - position + ($$(grab))) : ($$(limit) - position + ($$(grab)))) :\r\n        //     ($$(isHorizontal) ? ($$(limit) - position - $$(grab)) : ($$(limit) - position - $$(grab)))\r\n        // const fillPos = $$(reverse) ?\r\n        //     ($$(isHorizontal) ? handlePos + $$(grab) : $$(limit) - handlePos) :\r\n        //     ($$(isHorizontal) ? $$(limit) - handlePos : handlePos)\r\n\r\n        const handlePos = $$(isHorizontal) ? position + $$(grab) : position\r\n        const fillPos = $$(isHorizontal) ? handlePos : $$(limit) - handlePos\r\n\r\n        // console.log('coords', pos, value, position, handlePos, fillPos)\r\n        return {\r\n            fill: fillPos,\r\n            handle: handlePos,\r\n            label: handlePos\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const renderLabels = (labels: ObservableReadonly<Record<string, JSX.Child>>) => (\r\n        <ul ref={labelsRef} className={[\"rangesliderLabels relative select-none\",\r\n            () => $$(isHorizontal) ? 'left-[-15px] top-[20px]' : 'left-[15px] top-[8px]'\r\n        ]}\r\n        >\r\n            {$$(labels)}\r\n        </ul >\r\n    )\r\n\r\n\r\n    const labelItems = useMemo(() => {\r\n        const _l = $$(limit)\r\n\r\n        let labelItems = []\r\n        let labelKeys = Object.keys($$(labels)).map(r => +r)\r\n\r\n        if (labelKeys.length > 0) {\r\n            labelKeys = labelKeys.sort((a, b) => ($$(reverse) ? a - b : b - a))\r\n\r\n            for (let key of labelKeys) {\r\n                const labelPosition = getPositionFromValue(key)\r\n                // const labelPosition2 = getPositionFromValue(key)\r\n                const labelCoords = coordinates(labelPosition, !$$(isHorizontal))\r\n                const labelStyle = {\r\n                    [constants.orientation[$$(orientation)].direction]: `${labelCoords.label}px`\r\n                }\r\n\r\n                console.log('labels', $$(limit), labelCoords.label)\r\n\r\n                labelItems.push(\r\n                    <li\r\n                        className={[\r\n                            //`\r\n\r\n                            // absolute text-sm cursor-pointer inline-block top-2.5 \r\n                            // [transform:translate3d(-50%,0,0)]\r\n                            //   `,\r\n                            `rangesliderLabel-item  absolute`,\r\n                            () => $$(isHorizontal) ? '' : `list-none text-left h-full ml-6 mr-0 my-0 p-0\r\n                            before:content-[''] before:w-[10px] before:h-[1px] before:absolute before:z-[1] before:-left-3.5 before:top-2/4\r\n                            before:[transform:translate3d(0,-50%,0)] before:bg-[black] list-none`\r\n                        ]}\r\n                        data-value={key}\r\n                        onMouseDown={handleDrag}\r\n                        onTouchStart={handleStart}\r\n                        onTouchEnd={handleEnd}\r\n                        style={labelStyle}\r\n                    >\r\n                        {$$(labels)[key]}\r\n                    </li>\r\n                )\r\n            }\r\n        }\r\n        return labelItems\r\n    })\r\n\r\n\r\n    const showTooltip = useMemo(() => $$(tooltip) && ($$(active) || $$(alwaysOnTooltip)))\r\n\r\n    const coords = useMemo(() => {\r\n        const positionVal = getPositionFromValue($$(sliderValue))\r\n        return coordinates($$(positionVal))\r\n    })\r\n    const fillStyle = useMemo(() => {\r\n        const dimension = constants.orientation[$$(orientation)].dimension\r\n        return { [$$(dimension)]: `${$$(coords).fill}px` }\r\n    })\r\n    const handleStyle = useMemo(() => {\r\n        const direction = useMemo(() => $$(reverse)\r\n            ? constants.orientation[$$(orientation)].reverseDirection\r\n            : constants.orientation[$$(orientation)].direction)\r\n        return { [$$(direction)]: `${$$(coords).handle}px` }\r\n    })\r\n\r\n    return (\r\n        <div\r\n            ref={sliderRef}\r\n            class={[\r\n                \"rangeslider relative bg-[#e6e6e6] touch-none mx-0 my-5\",\r\n                () => `rangeslider-${$$(orientation)}`,\r\n                () => $$(reverse) ? \"rangeslider-reverse\" : \"\",\r\n                () => $$(isHorizontal) ? 'h-3 rounded-[10px]' :\r\n                    'h-[150px] max-w-[10px] mx-auto my-5',\r\n                props.class ?? props.className,\r\n            ]}\r\n            onMouseDown={handleDrag}\r\n            onMouseUp={handleEnd}\r\n            onTouchStart={handleStart}\r\n            onTouchEnd={handleEnd}\r\n\r\n            // class={props.class ?? props.className}\r\n            style={props.style}\r\n\r\n        >\r\n            <div className={[\"rangesliderFill block shadow-[inset_0_1px_3px_rgba(0,0,0,0.4)] absolute\",\r\n                () => $$(isHorizontal) ? 'h-full bg-[#7cb342] rounded-[10px] top-0' + ($$(reverse) ? ' right-0' : '') :\r\n                    ' w-full bg-[#7cb342] shadow-none bottom-0' + ($$(reverse) ? ' top-0' : ''),\r\n\r\n            ]} style={fillStyle} />\r\n            <div\r\n                ref={handleRef}\r\n                className={[\"rangesliderHandle bg-white border cursor-pointer inline-block absolute shadow-[0_1px_3px_rgba(0,0,0,0.4),0_-1px_3px_rgba(0,0,0,0.4)] border-solid border-[#ccc] \",\r\n                    () => $$(isHorizontal) ? 'w-[30px] h-[30px] rounded-[30px] top-2/4 after:content-[\"_\"] after:absolute after:w-4 after:h-4 after:bg-[#dadada] after:shadow-[0_1px_3px_rgba(0,0,0,0.4)_inset,0_-1px_3px_rgba(0,0,0,0.4)_inset] after:rounded-[50%] after:left-1.5 after:top-1.5 [transform:translate3d(-50%,-50%,0)]' :\r\n                        'absolute w-[30px] h-2.5 shadow-none -left-2.5',\r\n\r\n                ]}\r\n                onMouseDown={handleStart}\r\n                onTouchMove={handleDrag}\r\n                onTouchEnd={handleEnd}\r\n                onKeyDown={handleKeyDown}\r\n                style={handleStyle}\r\n                tabIndex={0}\r\n            >\r\n                {() => $$(showTooltip) ? (\r\n                    <div ref={tooltipRef} className={[\"rangesliderHandle-tooltip w-10 h-10 text-center absolute bg-[rgba(0,0,0,0.8)] font-[normal] text-sm transition-all duration-100 ease-[ease-in] rounded inline-block text-[white] after:content-[' _'] after:absolute after:w-0 after:h-0 select-none\",\r\n                        () => $$(isHorizontal) ? 'top-[-55px] after:border-t-8 after:border-t-[rgba(0,0,0,0.8)] after:border-x-8 after:border-x-transparent after:border-solid after:left-2/4 left-2/4 after:-bottom-2 after:[transform:translate3d(-50%,0,0)] [transform:translate3d(-50%,0%,0)]' :\r\n                            '-left-full top-2/4 after:border-l-8 after:border-l-[rgba(0,0,0,0.8)] after:border-y-8 after:border-y-transparent after:border-solid after:left-full after:top-3 [transform:translate3d(-50%,-50%,0)]',\r\n                        () => $$(reverse) ? ($$(isHorizontal) ? 'right-0' : 'top-0 bottom-[inherit]') : '',\r\n                    ]}>\r\n                        <span class='inline-block leading-[100%] mt-3'>{() => handleTooltip($$(sliderValue))}</span>\r\n                    </div>\r\n                ) : null}\r\n                <div className=\"rangesliderHandle-label select-none\">{formatLabel}</div>\r\n            </div>\r\n            {() => labels ? renderLabels(labelItems as any) : null}\r\n        </div>\r\n    )\r\n}\r\n\r\n"],"names":["$","$$","useEffect","value","useMemo","position","labels","jsx","labelItems","jsxs"],"mappings":";;;;AAMO,WAAS,WAAW,KAAqB;AACrC,WAAA,IAAI,OAAO,CAAC,EAAE,gBAAgB,IAAI,OAAO,CAAC;AAAA,EACrD;AASgB,WAAA,MAAM,OAAO,KAAK,KAAK;AACnC,WAAO,KAAK,IAAI,KAAK,IAAI,OAAO,GAAG,GAAG,GAAG;AAAA,EAC7C;ACOA,QAAM,YAAY;AAAA,IACd,aAAa;AAAA,MACT,YAAY;AAAA,QACR,WAAW;AAAA,QACX,WAAW;AAAA,QACX,kBAAkB;AAAA,QAClB,YAAY;AAAA,MAChB;AAAA,MACA,UAAU;AAAA,QACN,WAAW;AAAA,QACX,WAAW;AAAA,QACX,kBAAkB;AAAA,QAClB,YAAY;AAAA,MAChB;AAAA,IACJ;AAAA,EACJ;AAEa,QAAA,SAAS,CAAC,UAA4D;AACzE,UAAA;AAAA,MACF,MAAMA,OAAE,CAAC;AAAA,MACT,MAAMA,OAAE,GAAG;AAAA,MACX,OAAOA,OAAE,CAAC;AAAA,MACV,QAAQA,OAAE,CAAC;AAAA,MACX,cAAcA,OAAE,YAAY;AAAA,MAC5B,UAAUA,OAAE,IAAI;AAAA,MAChB,kBAAkBA,OAAE,KAAK;AAAA,MACzB,UAAUA,OAAE,KAAK;AAAA,MACjB,SAASA,KAAE,EAAA,EAAE;AAAA,MACb,cAAcA,OAAE,EAAE;AAAA,MAClB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACA,IAAA;AAEE,UAAA,SAASA,OAAW,KAAK;AACzB,UAAA,QAAQA,OAAU,CAAC;AACnB,UAAA,OAAOA,OAAU,CAAC;AACxB,UAAM,YAAYA,KAAAA;AAClB,UAAM,YAAYA,KAAAA;AAClB,UAAM,aAAaA,KAAAA;AACnB,UAAM,YAAYA,KAAAA;AAClB,UAAM,cAAcA,KAAA,EAAEC,QAAG,KAAK,CAAC;AACzB,UAAA,YAAYD,OAAE,CAAC;AACf,UAAA,YAAYA,OAAE,CAAC;AAErBE,SAAAA,UAAU,MAAM;AACA,kBAAAD,KAAAA,GAAG,KAAK,CAAC;AAAA,IAAA,CACxB;AACK,UAAA,gBAAgB,CAACE,WAA6B;AACzC,aAAA,gBAAgB,cAAcA,MAAK,IAAIA;AAAAA,IAAA;AAGlD,UAAM,eAAe,MAAM;AACvB,UAAI,CAACF,KAAG,GAAA,SAAS,KAAK,CAACA,KAAA,GAAG,SAAS,GAAG;AAClC;AAAA,MACJ;AACM,YAAA,YAAY,WAAW,UAAU,YAAYA,KAAAA,GAAG,WAAW,CAAC,EAAE,SAAS;AACnE,gBAAAA,KAAAA,GAAG,SAAS,EAAE,SAASA,KAAAA,GAAG,SAAS,CAAC,EAAE,CAAC;AACvC,gBAAAA,KAAAA,GAAG,SAAS,EAAE,SAASA,KAAAA,GAAG,SAAS,CAAC,EAAE,CAAC;AAE3C,YAAA,UAAA,IAAc,UAAA,CAAW;AAC1B,WAAA,cAAc,CAAC;AAAA,IAAA;AAGlB,UAAA,cAAc,CAAC,MAA+B;AACvC,eAAA,iBAAiB,aAAa,UAAU;AACxC,eAAA,iBAAiB,WAAW,SAAS;AAC9C,aAAO,IAAI;AACX,qDAAgB;AAAA,IAAC;AAGf,UAAA,aAAa,CAAC,MAA+B;AAC/C,QAAE,gBAAgB;AAClB,UAAI,CAAC;AAAU;AAET,YAAA;AAAA;AAAA,QAEF,QAAQ,EAAE,WAAW,WAAW,QAAQ;AAAA,MACxC,IAAA;AAEJ,UAAI,cAAc;AAAqB;AAE3B,kBAAA,SAAS,CAAC,CAAC;AAEvB,WAAI,uCAAW,SAAS,6BAA4B,QAAQ,OAAO;AACnD,oBAAA,WAAW,QAAQ,KAAK,CAAC;AAAA,MACzC;AACW,2CAAAA,KAAA,GAAG,WAAW,GAAG;AAAA,IAAC;AAGjCC,SAAAA,UAAU,MAAM;AACC;AACP,YAAA,iBAAiB,IAAI,eAAe,YAAY;AAClD,UAAAD,KAAAA,GAAG,SAAS,GAAG;AACA,uBAAA,QAAQA,QAAG,SAAS,CAAC;AAAA,MACxC;AAEA,aAAO,MAAM;AACT,uBAAe,WAAW;AAAA,MAAA;AAAA,IAC9B,CACH;AAEK,UAAA,YAAY,CAAC,MAA+B;AAC9C,aAAO,KAAK;AACZ,2DAAmB;AACb,YAAAA,KAAAA,GAAG,WAAW,CAAC;AACZ,eAAA,oBAAoB,aAAa,UAAU;AAC3C,eAAA,oBAAoB,WAAW,SAAS;AAAA,IAAA;AAG/C,UAAA,gBAAgB,CAAC,MAAqB;AACxC,QAAE,eAAe;AACX,YAAA,EAAE,QAAY,IAAA;AAGpB,cAAQ,SAAS;AAAA,QACb,KAAK;AAAA,QACL,KAAK;AACD,sBAAYA,QAAG,KAAK,IAAIA,KAAG,GAAA,IAAI,IAAIA,KAAAA,GAAG,GAAG,IAAIA,KAAAA,GAAG,GAAG,IAAIA,QAAG,KAAK,IAAIA,KAAA,GAAG,IAAI,CAAC;AAChE,+CAAAA,KAAA,GAAG,WAAW,GAAG;AAC5B;AAAA,QACJ,KAAK;AAAA,QACL,KAAK;AACD,sBAAYA,QAAG,KAAK,IAAIA,KAAG,GAAA,IAAI,IAAIA,KAAAA,GAAG,GAAG,IAAIA,KAAAA,GAAG,GAAG,IAAIA,QAAG,KAAK,IAAIA,KAAA,GAAG,IAAI,CAAC;AAChE,+CAAAA,KAAA,GAAG,WAAW,GAAG;AAC5B;AAAA,MAER;AAAA,IAAA;AAGJ,UAAM,uBAAuB,CAACE,QAAe,UAAU,UAAkB;AACrE,YAAM,aAAaF,KAAAA,GAAG,GAAG,IAAIA,QAAG,GAAG;AAC7B,YAAA,aAAaE,SAAQF,KAAA,GAAG,GAAG;AACjC,YAAM,aAAa,aAAa;AAS1B,YAAA,MAAM,KAAK,MAAM,cAAc,UAAUA,QAAG,SAAS,IAAIA,KAAAA,GAAG,KAAK,EAAE;AAElE,aAAA;AAAA,IAAA;AAGX,UAAM,eAAeG,KAAAA,QAAQ,MAAMH,KAAG,GAAA,WAAW,MAAM,YAAY;AAE7D,UAAA,uBAAuB,CAAC,QAAwB;AAC5C,YAAA,aAAa,MAAM,KAAK,GAAGA,KAAA,GAAG,KAAK,CAAC,KAAKA,KAAG,GAAA,KAAK,KAAK;AAC5D,YAAM,UAAUA,KAAAA,GAAG,IAAI,IAAI,KAAK,MAAO,cAAcA,KAAAA,GAAG,GAAG,IAAIA,KAAG,GAAA,GAAG,KAAMA,KAAA,GAAG,IAAI,CAAC;AAC7E,YAAA,SAASA,KAAAA,GAAG,YAAY,IAAI,UAAUA,QAAG,GAAG,IAAIA,KAAAA,GAAG,GAAG,IAAI;AAChE,aAAO,MAAM,QAAQA,KAAA,GAAG,GAAG,GAAGA,KAAA,GAAG,GAAG,CAAC;AAAA,IAAA;AAGnC,UAAA,WAAW,CAAC,MAA+B;AAC7C,YAAM,kBAAkB,UAAU,YAAYA,KAAG,GAAA,WAAW,CAAC,EAAE;AAC/D,YAAM,iBAAiBA,KAAAA,GAAG,OAAO,IAC3B,UAAU,YAAYA,QAAG,WAAW,CAAC,EAAE,mBACvC,UAAU,YAAYA,KAAG,GAAA,WAAW,CAAC,EAAE;AAC7C,YAAM,wBAAwB,SAAS,WAAW,eAAe,CAAC;AAC5D,YAAA,aAAa,EAAE,aAAa,KAC3B,EAAiB,qBAAqB,IACtC,EAAE,QAAQ,CAAC,EAAY,qBAAqB;AACnD,YAAM,YAAYA,KAAAA,GAAG,SAAS,EAAG,sBAAA,EAAwB,cAAc;AAKvE,YAAM,MAAMA,KAAA,GAAG,OAAO,IAChB,YAAY,aAAaA,QAAG,IAAI,IAChC,aAAa,YAAYA,KAAA,GAAG,IAAI;AAE1B,kBAAA,qBAAqB,GAAG,CAAC;AAC9B,aAAA;AAAA,IAAA;AAGX,UAAM,cAAc,CAAC,KAAa,UAAU,UAAU;AAC5CE,YAAAA,SAAQ,qBAAqB,GAAG;AAChCE,YAAAA,YAAW,qBAAqBF,QAAO,OAAO;AAQpD,YAAM,YAAYF,KAAG,GAAA,YAAY,IAAII,YAAWJ,QAAG,IAAI,IAAII;AAC3D,YAAM,UAAUJ,KAAG,GAAA,YAAY,IAAI,YAAYA,QAAG,KAAK,IAAI;AAGpD,aAAA;AAAA,QACH,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,MAAA;AAAA,IACX;AAKE,UAAA,eAAe,CAACK,YAClBC,2BAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QAAG,KAAK;AAAA,QAAW,WAAW;AAAA,UAAC;AAAA,UAC5B,MAAMN,QAAG,YAAY,IAAI,4BAA4B;AAAA,QACzD;AAAA,QAEK,kBAAGK,OAAM;AAAA,MAAA;AAAA,IAAA;AAKZ,UAAA,aAAaF,KAAAA,QAAQ,MAAM;AAClBH,WAAAA,GAAG,KAAK;AAEnB,UAAIO,cAAa,CAAA;AACb,UAAA,YAAY,OAAO,KAAKP,QAAG,MAAM,CAAC,EAAE,IAAI,CAAK,MAAA,CAAC,CAAC;AAE/C,UAAA,UAAU,SAAS,GAAG;AACV,oBAAA,UAAU,KAAK,CAAC,GAAG,MAAOA,KAAAA,GAAG,OAAO,IAAI,IAAI,IAAI,IAAI,CAAE;AAElE,iBAAS,OAAO,WAAW;AACjB,gBAAA,gBAAgB,qBAAqB,GAAG;AAE9C,gBAAM,cAAc,YAAY,eAAe,CAACA,KAAA,GAAG,YAAY,CAAC;AAChE,gBAAM,aAAa;AAAA,YACf,CAAC,UAAU,YAAYA,KAAG,GAAA,WAAW,CAAC,EAAE,SAAS,GAAG,GAAG,YAAY,KAAK;AAAA,UAAA;AAG5E,kBAAQ,IAAI,UAAUA,KAAAA,GAAG,KAAK,GAAG,YAAY,KAAK;AAElDO,sBAAW;AAAA,YACPD,2BAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACG,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,kBAMP;AAAA,kBACA,MAAMN,QAAG,YAAY,IAAI,KAAK;AAAA;AAAA;AAAA,gBAGlC;AAAA,gBACA,cAAY;AAAA,gBACZ,aAAa;AAAA,gBACb,cAAc;AAAA,gBACd,YAAY;AAAA,gBACZ,OAAO;AAAA,gBAEN,UAAAA,KAAA,GAAG,MAAM,EAAE,GAAG;AAAA,cAAA;AAAA,YACnB;AAAA,UAAA;AAAA,QAER;AAAA,MACJ;AACOO,aAAAA;AAAAA,IAAA,CACV;AAGK,UAAA,cAAcJ,KAAAA,QAAQ,MAAMH,KAAAA,GAAG,OAAO,MAAMA,QAAG,MAAM,KAAKA,KAAAA,GAAG,eAAe,EAAE;AAE9E,UAAA,SAASG,KAAAA,QAAQ,MAAM;AACzB,YAAM,cAAc,qBAAqBH,QAAG,WAAW,CAAC;AACjD,aAAA,YAAYA,KAAAA,GAAG,WAAW,CAAC;AAAA,IAAA,CACrC;AACK,UAAA,YAAYG,KAAAA,QAAQ,MAAM;AAC5B,YAAM,YAAY,UAAU,YAAYH,KAAG,GAAA,WAAW,CAAC,EAAE;AAClD,aAAA,EAAE,CAACA,KAAAA,GAAG,SAAS,CAAC,GAAG,GAAGA,QAAG,MAAM,EAAE,IAAI;IAAK,CACpD;AACK,UAAA,cAAcG,KAAAA,QAAQ,MAAM;AAC9B,YAAM,YAAYA,KAAAA,QAAQ,MAAMH,KAAAA,GAAG,OAAO,IACpC,UAAU,YAAYA,KAAA,GAAG,WAAW,CAAC,EAAE,mBACvC,UAAU,YAAYA,QAAG,WAAW,CAAC,EAAE,SAAS;AAC/C,aAAA,EAAE,CAACA,KAAAA,GAAG,SAAS,CAAC,GAAG,GAAGA,QAAG,MAAM,EAAE,MAAM;IAAK,CACtD;AAGG,WAAAQ,2BAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACG,KAAK;AAAA,QACL,OAAO;AAAA,UACH;AAAA,UACA,MAAM,eAAeR,QAAG,WAAW,CAAC;AAAA,UACpC,MAAMA,QAAG,OAAO,IAAI,wBAAwB;AAAA,UAC5C,MAAMA,QAAG,YAAY,IAAI,uBACrB;AAAA,UACJ,MAAM,SAAS,MAAM;AAAA,QACzB;AAAA,QACA,aAAa;AAAA,QACb,WAAW;AAAA,QACX,cAAc;AAAA,QACd,YAAY;AAAA,QAGZ,OAAO,MAAM;AAAA,QAGb,UAAA;AAAA,UAAAM,+BAAC,SAAI,WAAW;AAAA,YAAC;AAAA,YACb,MAAMN,KAAAA,GAAG,YAAY,IAAI,8CAA8CA,KAAG,GAAA,OAAO,IAAI,aAAa,MAC9F,+CAA+CA,KAAG,GAAA,OAAO,IAAI,WAAW;AAAA,UAAA,GAE7E,OAAO,WAAW;AAAA,UACrBQ,2BAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACG,KAAK;AAAA,cACL,WAAW;AAAA,gBAAC;AAAA,gBACR,MAAMR,QAAG,YAAY,IAAI,6RACrB;AAAA,cAER;AAAA,cACA,aAAa;AAAA,cACb,aAAa;AAAA,cACb,YAAY;AAAA,cACZ,WAAW;AAAA,cACX,OAAO;AAAA,cACP,UAAU;AAAA,cAET,UAAA;AAAA,gBAAA,MAAMA,QAAG,WAAW,mCAChB,OAAI,EAAA,KAAK,YAAY,WAAW;AAAA,kBAAC;AAAA,kBAC9B,MAAMA,QAAG,YAAY,IAAI,oPACrB;AAAA,kBACJ,MAAMA,KAAAA,GAAG,OAAO,IAAKA,KAAAA,GAAG,YAAY,IAAI,YAAY,2BAA4B;AAAA,gBAEhF,GAAA,UAAAM,2BAAA,IAAC,QAAK,EAAA,OAAM,oCAAoC,UAAA,MAAM,cAAcN,KAAA,GAAG,WAAW,CAAC,EAAE,CAAA,EAAA,CACzF,IACA;AAAA,gBACHM,2BAAA,IAAA,OAAA,EAAI,WAAU,uCAAuC,UAAY,aAAA;AAAA,cAAA;AAAA,YAAA;AAAA,UACtE;AAAA,UACC,MAAM,SAAS,aAAa,UAAiB,IAAI;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAG9D;;;;"}